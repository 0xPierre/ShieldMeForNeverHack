<!DOCTYPE html>

<html class="dark" lang="fr"><head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>Domaines externes</title>
  <link href="../../lib/tailwind.min.css" rel="stylesheet"/>
  <link href="../../css/styles.css" rel="stylesheet"/>
  <link href="popup.css" rel="stylesheet"/>
  <script src="../../lib/tailwind.min.js"></script>
  <script src="theme.js"></script>
  <script type="module" src="domains.js"></script>
</head>
<body class="font-display bg-background-light dark:bg-background-dark">
<div class="relative flex h-auto min-h-screen w-full flex-col group/design-root overflow-x-hidden" style="width: 384px; height: 600px; margin: auto;">
  <div class="layout-container flex h-full grow flex-col">
    <div class="flex flex-1 justify-center py-5">
      <div class="layout-content-container flex flex-col w-full max-w-md flex-1 px-4">
        <!-- Header with back button -->
        <div class="relative w-full">
          <div class="absolute top-0 right-0 p-2">
            <button id="back-button" class="flex items-center justify-center size-10 rounded-full bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors duration-150">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-x-icon lucide-circle-x"><circle cx="12" cy="12" r="10"/><path d="m15 9-6 6"/><path d="m9 9 6 6"/></svg>
            </button>
          </div>
        </div>

        <!-- Main Content -->
        <div class="flex flex-col gap-3 pt-2">
          <div class="flex min-w-72 flex-col gap-3">
            <p class="text-slate-900 ml-2 dark:text-white text-xl font-bold leading-tight">Domaines externes</p>
            <p class="text-slate-500 ml-2 dark:text-slate-400 text-sm"><span id="domains-count">0</span> domaines tiers détectés sur cette page</p>
          </div>
        </div>

        <!-- Domains List -->
        <main class="flex flex-col gap-2 flex-grow py-4 overflow-hidden">
          <!-- Loading skeleton -->
          <div id="domains-skeleton" class="flex flex-col gap-2 animate-pulse">
            <div class="h-10 bg-slate-200 dark:bg-slate-700 rounded-lg"></div>
            <div class="h-10 bg-slate-200 dark:bg-slate-700 rounded-lg"></div>
            <div class="h-10 bg-slate-200 dark:bg-slate-700 rounded-lg"></div>
          </div>

          <!-- Domains list container -->
          <div id="domains-list" class="hidden flex-col gap-1 overflow-y-auto max-h-[420px] pr-1">
            <!-- Domains will be inserted here -->
          </div>

          <!-- Empty state -->
          <div id="domains-empty" class="hidden flex flex-col items-center justify-center py-8 text-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="text-slate-300 dark:text-slate-600 mb-3"><circle cx="12" cy="12" r="10"/><path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"/><path d="M2 12h20"/></svg>
            <p class="text-slate-500 dark:text-slate-400 text-sm">Aucun domaine externe trouvé</p>
            <p class="text-slate-400 dark:text-slate-500 text-xs mt-1">Cette page n'utilise que des ressources internes</p>
          </div>

          <!-- Error state -->
          <div id="domains-error" class="hidden flex flex-col items-center justify-center py-8 text-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="text-red-400 dark:text-red-500 mb-3"><circle cx="12" cy="12" r="10"/><line x1="12" x2="12" y1="8" y2="12"/><line x1="12" x2="12.01" y1="16" y2="16"/></svg>
            <p class="text-slate-500 dark:text-slate-400 text-sm">Impossible d'analyser cette page</p>
            <p class="text-slate-400 dark:text-slate-500 text-xs mt-1">Les pages système ne peuvent pas être analysées</p>
          </div>
        </main>
      </div>
    </div>
  </div>
</div>
</body></html>

